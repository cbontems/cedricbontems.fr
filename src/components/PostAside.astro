---
import type { MarkdownHeading } from "astro";
import TableOfContent from "~/components/TableOfContent.astro";
import generateToc from "~/helpers/generateToc";
import PostCategories from "./PostCategories.astro";

type Props = {
	categories: string[] | undefined;
	headings: MarkdownHeading[] | undefined;
};

const { categories, headings } = Astro.props;
---

<aside>
	{ categories && <PostCategories categories={categories} />}
	{ headings && <TableOfContent toc={generateToc(headings, "Overview")} />}
</aside>

<style>
	@import "~/styles/media.css";
	aside {
		display: none;
		padding: 0;
		margin-inline-start: 40px;
		grid-column: 4 / 5;
		@media (--1200-n-above) {
			display: block;
		}
	}
</style>
