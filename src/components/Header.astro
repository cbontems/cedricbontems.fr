---
import HeaderNav from "~/components/HeaderNav.astro";
import HeaderIcons from "~/components/HeaderIcons.astro";
import HeaderSocialLinks from "./HeaderSocialLinks.astro";
type Props = {
	theme?: "dark" | "light" | undefined;
};
const { theme } = Astro.props as Props;
let textColor;
switch (theme) {
	case "dark":
		textColor = "var(--always-white)";
		break;
	case "light":
		textColor = "var(--always-black)";
		break;
	default:
		textColor = "var(--black)";
		break;
}
---

<header>
	<HeaderNav />
	<HeaderIcons />
	<HeaderSocialLinks />
</header>

<style define:vars={{textColor}}>
	@import "~/styles/media.css";
	header {
		--_color: var(--textColor);
		display: flex;
		align-items: flex-end;
		justify-content: space-between;
		font-family: var(--font-text);
		padding-block-start: var(--size-3);
		margin-inline: var(--size-3);
		@media (--md-n-above) {
			grid-column: 2 / -2;
		}
	}
</style>
<script>
	import { createDisclosure } from "~/helpers/disclosure";

	createDisclosure({
		button: document.querySelector("#astroprops-drawer-trigger") as HTMLElement,
		content: document.querySelector("#astroprops-drawer") as HTMLElement,
		animated: true,
		/** matches the `lg-n-above` custom media query above */
		closeAt: 1024,
	});
</script>
